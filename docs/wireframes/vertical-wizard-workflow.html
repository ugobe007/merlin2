<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Merlin V7 â€” Vertical â†’ Wizard Workflow Wireframe</title>
  <style>
    :root {
      --bg: #0f172a;
      --card: #1e293b;
      --accent: #3b82f6;
      --green: #22c55e;
      --amber: #f59e0b;
      --red: #ef4444;
      --text: #e2e8f0;
      --muted: #94a3b8;
      --border: #334155;
      --radius: 12px;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg);
      color: var(--text);
      padding: 40px 24px;
      line-height: 1.6;
    }

    h1 {
      font-size: 28px;
      text-align: center;
      margin-bottom: 8px;
      background: linear-gradient(90deg, #3b82f6, #8b5cf6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .subtitle {
      text-align: center;
      color: var(--muted);
      margin-bottom: 48px;
      font-size: 14px;
    }

    /* â”€â”€ Flow Container â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .flow {
      display: flex;
      flex-direction: column;
      gap: 0;
      max-width: 900px;
      margin: 0 auto;
    }

    .flow-arrow {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 48px;
      color: var(--accent);
      font-size: 24px;
      position: relative;
    }

    .flow-arrow::before {
      content: '';
      position: absolute;
      width: 2px;
      height: 100%;
      background: var(--accent);
      opacity: 0.3;
    }

    .flow-arrow span {
      background: var(--bg);
      z-index: 1;
      padding: 2px 8px;
      font-size: 20px;
    }

    /* â”€â”€ Phase Card â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .phase {
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 24px;
      background: var(--card);
      position: relative;
    }

    .phase-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 16px;
    }

    .phase-badge {
      background: var(--accent);
      color: white;
      font-size: 11px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      padding: 3px 10px;
      border-radius: 20px;
      white-space: nowrap;
    }

    .phase-badge.config {
      background: #8b5cf6;
    }

    .phase-badge.normalized {
      background: var(--green);
    }

    .phase-badge.ssot {
      background: var(--amber);
      color: #000;
    }

    .phase-title {
      font-size: 18px;
      font-weight: 600;
    }

    .phase-desc {
      color: var(--muted);
      font-size: 13px;
      margin-bottom: 16px;
    }

    /* â”€â”€ Inner Boxes â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .inner-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 12px;
    }

    .inner-box {
      border: 1px dashed var(--border);
      border-radius: 8px;
      padding: 14px;
      background: rgba(15, 23, 42, 0.5);
    }

    .inner-box h4 {
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 6px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .inner-box p, .inner-box li {
      font-size: 12px;
      color: var(--muted);
    }

    .inner-box ul {
      list-style: none;
      padding-left: 0;
    }

    .inner-box ul li::before {
      content: 'â†’ ';
      color: var(--accent);
    }

    /* â”€â”€ Step 3 Breakdown â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .step3-grid {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 12px;
    }

    .vertical-col {
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 16px;
      background: rgba(15, 23, 42, 0.4);
    }

    .vertical-col h4 {
      font-size: 14px;
      font-weight: 700;
      margin-bottom: 10px;
      text-align: center;
    }

    .section-block {
      background: rgba(59, 130, 246, 0.08);
      border-left: 3px solid var(--accent);
      padding: 8px 10px;
      border-radius: 0 6px 6px 0;
      margin-bottom: 8px;
    }

    .section-block h5 {
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: var(--accent);
      margin-bottom: 4px;
    }

    .section-block .q-list {
      font-size: 11px;
      color: var(--muted);
      line-height: 1.7;
    }

    .section-block .q-list .tier1 {
      color: var(--green);
      font-weight: 600;
    }

    /* â”€â”€ Before/After â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .comparison {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      margin-top: 16px;
    }

    .comparison .before {
      border: 1px solid var(--red);
      border-radius: 8px;
      padding: 14px;
      background: rgba(239, 68, 68, 0.06);
    }

    .comparison .after {
      border: 1px solid var(--green);
      border-radius: 8px;
      padding: 14px;
      background: rgba(34, 197, 94, 0.06);
    }

    .comparison h5 {
      font-size: 12px;
      font-weight: 700;
      text-transform: uppercase;
      margin-bottom: 8px;
    }

    .comparison .before h5 { color: var(--red); }
    .comparison .after h5 { color: var(--green); }

    .comparison code {
      font-size: 11px;
      background: rgba(0,0,0,0.3);
      padding: 2px 6px;
      border-radius: 4px;
      color: var(--text);
    }

    .comparison p {
      font-size: 12px;
      color: var(--muted);
      margin-bottom: 4px;
    }

    /* â”€â”€ File Map â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .file-map {
      font-family: 'JetBrains Mono', 'Fira Code', monospace;
      font-size: 12px;
      background: rgba(0,0,0,0.3);
      padding: 16px;
      border-radius: 8px;
      line-height: 1.8;
      color: var(--muted);
      margin-top: 12px;
      overflow-x: auto;
    }

    .file-map .new { color: var(--green); }
    .file-map .existing { color: var(--text); }
    .file-map .changed { color: var(--amber); }
    .file-map .deprecated { color: var(--red); text-decoration: line-through; }

    /* â”€â”€ Legend â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .legend {
      display: flex;
      gap: 20px;
      justify-content: center;
      margin: 32px 0 16px;
      font-size: 12px;
      flex-wrap: wrap;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .legend-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
    }
  </style>
</head>
<body>

<h1>ğŸ§™â€â™‚ï¸ Merlin V7 â€” Normalized Vertical â†’ Wizard Workflow</h1>
<p class="subtitle">Phase 3: Unified Step 3 Questionnaire Architecture â€¢ Car Wash / Hotel / EV Charging</p>

<!-- â”€â”€ Legend â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="legend">
  <div class="legend-item"><div class="legend-dot" style="background: var(--accent)"></div> Existing</div>
  <div class="legend-item"><div class="legend-dot" style="background: var(--green)"></div> New / Normalized</div>
  <div class="legend-item"><div class="legend-dot" style="background: var(--amber)"></div> Modified</div>
  <div class="legend-item"><div class="legend-dot" style="background: #8b5cf6)"></div> Config-driven</div>
</div>

<div class="flow">

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- ENTRY: Vertical Landing Page                   -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="phase">
    <div class="phase-header">
      <span class="phase-badge config">Config-Driven</span>
      <span class="phase-title">ğŸŒ Vertical Landing Page</span>
    </div>
    <p class="phase-desc">
      User lands on <code>/car-wash</code>, <code>/hotel-energy</code>, or <code>/ev-charging</code>.
      All 3 now render through <strong>VerticalLandingPage.tsx</strong> shell + config.
    </p>
    <div class="inner-grid">
      <div class="inner-box">
        <h4>ğŸš— Car Wash</h4>
        <ul>
          <li>VerticalHeroSection (config)</li>
          <li>VerticalCalculatorSection</li>
          <li>HowItWorksSection</li>
          <li>SocialProofSection</li>
          <li>FinalCTASection â†’ "Get Your Free Quote"</li>
        </ul>
      </div>
      <div class="inner-box">
        <h4>ğŸ¨ Hotel</h4>
        <ul>
          <li>VerticalHeroSection (config)</li>
          <li>VerticalCalculatorSection</li>
          <li>HowItWorksSection</li>
          <li>SocialProofSection</li>
          <li>FinalCTASection â†’ "Get Your Free Quote"</li>
        </ul>
      </div>
      <div class="inner-box">
        <h4>âš¡ EV Charging</h4>
        <ul>
          <li>VerticalHeroSection (config)</li>
          <li>VerticalCalculatorSection</li>
          <li>HowItWorksSection</li>
          <li>SocialProofSection</li>
          <li>FinalCTASection â†’ "Get Your Free Quote"</li>
        </ul>
      </div>
    </div>
    <p class="phase-desc" style="margin-top: 12px; margin-bottom: 0">
      âœ… <strong>Phase 2 complete</strong> â€” All 3 landing pages: ~33 lines each via shared components + vertical config.
    </p>
  </div>

  <div class="flow-arrow"><span>â–¼</span></div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- CTA clicks â†’ Navigate to /v7?industry=xxx      -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="phase" style="background: transparent; border-style: dashed; padding: 12px 24px; text-align: center;">
    <span style="font-size: 13px; color: var(--muted);">
      CTA â†’ <code>navigate('/v7?industry=car_wash')</code> or <code>hotel</code> or <code>ev_charging</code>
    </span>
  </div>

  <div class="flow-arrow"><span>â–¼</span></div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- WIZARD V7: Step 1 â€” Location                   -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="phase">
    <div class="phase-header">
      <span class="phase-badge">Step 1</span>
      <span class="phase-title">ğŸ“ Location</span>
    </div>
    <p class="phase-desc">
      Google Places address input â†’ auto-detect state, zip, utility rates.
      If <code>?industry=xxx</code> query param present, Step 2 is pre-selected.
    </p>
    <div class="inner-grid">
      <div class="inner-box">
        <h4>ğŸ“ Step1LocationV7.tsx</h4>
        <p>Address autocomplete â†’ LocationCard â†’ LocationIntel</p>
      </div>
      <div class="inner-box">
        <h4>ğŸ§  Intelligence</h4>
        <p>Utility rate lookup, energy community detection, Site Scoreâ„¢</p>
      </div>
    </div>
  </div>

  <div class="flow-arrow"><span>â–¼</span></div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- WIZARD V7: Step 2 â€” Industry                   -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="phase">
    <div class="phase-header">
      <span class="phase-badge">Step 2</span>
      <span class="phase-title">ğŸ­ Industry Selection</span>
    </div>
    <p class="phase-desc">
      Card grid from <code>industryMeta.ts</code>. Pre-selected if coming from vertical landing page.
      <code>selectIndustry()</code> â†’ loads Step 3 template.
    </p>
    <div class="inner-grid">
      <div class="inner-box">
        <h4>ğŸƒ Step2IndustryV7.tsx</h4>
        <p>Industry cards with icons from <code>industryMeta.ts</code> SSOT</p>
      </div>
      <div class="inner-box">
        <h4>âš¡ selectIndustry()</h4>
        <ul>
          <li><code>api.loadStep3Template(industry)</code></li>
          <li><code>api.computeSmartDefaults(template)</code></li>
          <li><code>dispatch SET_STEP3_TEMPLATE</code></li>
          <li>Navigate â†’ Step 3</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="flow-arrow"><span>â–¼</span></div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- WIZARD V7: Step 3 â€” NORMALIZED Questionnaire    -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="phase" style="border-color: var(--green);">
    <div class="phase-header">
      <span class="phase-badge normalized">Normalized âœ¨</span>
      <span class="phase-title">ğŸ“‹ Step 3 â€” Industry Profile Questionnaire</span>
    </div>
    <p class="phase-desc">
      <strong>THE NORMALIZATION:</strong> All 3 verticals now use <strong>*-questions-complete.config.ts</strong> format.
      <code>resolveStep3Schema(industry)</code> loads from a unified <code>COMPLETE_SCHEMAS</code> registry â€” NO special-case branches.
    </p>

    <!-- Before / After -->
    <div class="comparison">
      <div class="before">
        <h5>âŒ Before (Special Handler)</h5>
        <p><code>if (normalized === 'car-wash')</code></p>
        <p>â†’ <code>resolveCarWashSchema()</code> (rich format)</p>
        <p><code>else</code></p>
        <p>â†’ <code>resolveLegacySchema()</code> (simple format)</p>
        <p style="margin-top: 8px; font-style: italic">Car wash: 27Q rich format</p>
        <p style="font-style: italic">Hotel: 11Q legacy format</p>
        <p style="font-style: italic">EV: 10Q legacy format</p>
      </div>
      <div class="after">
        <h5>âœ… After (Unified Registry)</h5>
        <p><code>COMPLETE_SCHEMAS[normalized]</code></p>
        <p>â†’ loads <code>*-questions-complete.config.ts</code></p>
        <p>â†’ <code>convertCompleteQuestion()</code></p>
        <p>â†’ uniform CuratedSchema output</p>
        <p style="margin-top: 8px; font-style: italic">Car wash: 27Q complete format</p>
        <p style="font-style: italic">Hotel: 16Q complete format âœ¨</p>
        <p style="font-style: italic">EV: 16Q complete format âœ¨</p>
      </div>
    </div>

    <!-- Per-Vertical Question Breakdown -->
    <div style="margin-top: 20px;">
      <h4 style="font-size: 14px; margin-bottom: 12px; color: var(--green);">ğŸ“‹ Normalized 16Q Questionnaires</h4>
    </div>

    <div class="step3-grid">
      <!-- Car Wash -->
      <div class="vertical-col">
        <h4>ğŸš— Car Wash (27Q)</h4>
        <div class="section-block">
          <h5>ğŸ¢ Facility (Q1-6)</h5>
          <div class="q-list">
            <span class="tier1">facilityType</span> Â·
            <span class="tier1">tunnelOrBayCount</span> Â·
            <span class="tier1">operatingHours</span> Â·
            <span class="tier1">daysPerWeek</span> Â·
            <span class="tier1">dailyVehicles</span> Â·
            naturalGasLine
          </div>
        </div>
        <div class="section-block">
          <h5>âš™ï¸ Equipment (Q7-15)</h5>
          <div class="q-list">
            <span class="tier1">waterHeaterType</span> Â·
            <span class="tier1">pumpConfiguration</span> Â·
            <span class="tier1">dryerConfiguration</span> Â·
            vacuumSystems Â· lightingType Â· waterReclaim Â· chemicalDispensing Â· compressor Â· signage
          </div>
        </div>
        <div class="section-block">
          <h5>ğŸ”Œ Operations (Q16-21)</h5>
          <div class="q-list">
            paymentSystem Â· securitySystem Â· gridConnection Â· gridReliability Â· existingGenerator Â· backupNeeds
          </div>
        </div>
        <div class="section-block">
          <h5>â˜€ï¸ Solar (Q22-27)</h5>
          <div class="q-list">
            existingSolar Â· rooftopSpace Â· solarInterest Â· evChargingInterest Â· budgetRange Â· timeline
          </div>
        </div>
      </div>

      <!-- Hotel -->
      <div class="vertical-col" style="border-color: var(--green);">
        <h4>ğŸ¨ Hotel (16Q) <span style="color: var(--green); font-size: 11px">NEW</span></h4>
        <div class="section-block">
          <h5>ğŸ¢ Facility (Q1-5)</h5>
          <div class="q-list">
            <span class="tier1">hotelCategory</span> Â·
            <span class="tier1">numRooms</span> Â·
            <span class="tier1">squareFootage</span> Â·
            <span class="tier1">occupancyRate</span> Â·
            buildingAge
          </div>
        </div>
        <div class="section-block">
          <h5>ğŸ›ï¸ Amenities (Q6-10)</h5>
          <div class="q-list">
            <span class="tier1">poolOnSite</span> Â·
            <span class="tier1">restaurantOnSite</span> Â·
            <span class="tier1">spaOnSite</span> Â·
            laundryOnSite Â·
            evChargingForGuests
          </div>
        </div>
        <div class="section-block">
          <h5>âš¡ Energy (Q11-13)</h5>
          <div class="q-list">
            <span class="tier1">gridConnection</span> Â·
            gridReliability Â·
            existingGenerator
          </div>
        </div>
        <div class="section-block">
          <h5>â˜€ï¸ Solar & Goals (Q14-16)</h5>
          <div class="q-list">
            existingSolar Â·
            primaryGoal Â·
            budgetTimeline
          </div>
        </div>
      </div>

      <!-- EV Charging -->
      <div class="vertical-col" style="border-color: var(--green);">
        <h4>âš¡ EV Charging (16Q) <span style="color: var(--green); font-size: 11px">NEW</span></h4>
        <div class="section-block">
          <h5>ğŸ“ Site (Q1-4)</h5>
          <div class="q-list">
            <span class="tier1">stationType</span> Â·
            <span class="tier1">operatingHours</span> Â·
            siteSize Â·
            parkingSpaces
          </div>
        </div>
        <div class="section-block">
          <h5>ğŸ”Œ Chargers (Q5-10)</h5>
          <div class="q-list">
            <span class="tier1">level2Chargers</span> Â·
            <span class="tier1">level2Power</span> Â·
            <span class="tier1">dcFastChargers</span> Â·
            <span class="tier1">dcFastPower</span> Â·
            hpcChargers Â·
            utilizationProfile
          </div>
        </div>
        <div class="section-block">
          <h5>âš¡ Grid & Demand (Q11-13)</h5>
          <div class="q-list">
            <span class="tier1">gridConnection</span> Â·
            peakConcurrency Â·
            siteDemandCap
          </div>
        </div>
        <div class="section-block">
          <h5>â˜€ï¸ Solar & Goals (Q14-16)</h5>
          <div class="q-list">
            existingSolar Â·
            primaryGoal Â·
            budgetTimeline
          </div>
        </div>
      </div>
    </div>

    <p class="phase-desc" style="margin-top: 16px; margin-bottom: 0; text-align: center;">
      <span style="color: var(--green);">Green text = Tier 1 Blockers</span> â€” required before quote generation.
      All rendered by <code>Step3ProfileV7Curated.tsx</code> via <code>resolveStep3Schema()</code> â€” zero special handlers.
    </p>
  </div>

  <div class="flow-arrow"><span>â–¼</span></div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- CALCULATOR LAYER                                -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="phase">
    <div class="phase-header">
      <span class="phase-badge ssot">SSOT</span>
      <span class="phase-title">ğŸ”¢ Calculator Pipeline</span>
    </div>
    <p class="phase-desc">
      Answers flow through adapter â†’ <code>buildSSOTInput()</code> â†’ <code>calculateUseCasePower()</code> â†’ TrueQuoteâ„¢ envelope.
      No changes needed â€” adapters already handle all 3 verticals.
    </p>
    <div class="inner-grid">
      <div class="inner-box">
        <h4>ğŸ“‹ Answer Mapping</h4>
        <ul>
          <li>Complete config question IDs</li>
          <li><code>applyTemplateMapping()</code></li>
          <li><code>buildSSOTInput(industry)</code></li>
          <li>Field name translation</li>
        </ul>
      </div>
      <div class="inner-box">
        <h4>ğŸ§® Calculator Adapters</h4>
        <ul>
          <li><code>hotel_load_v1</code> â†’ SSOT</li>
          <li><code>car_wash_load_v1</code> â†’ SSOT</li>
          <li><code>ev_charging_load_v1</code> â†’ SSOT</li>
          <li>Returns CalcValidation v1</li>
        </ul>
      </div>
      <div class="inner-box">
        <h4>âœ… TrueQuoteâ„¢ Envelope</h4>
        <ul>
          <li>kW contributors breakdown</li>
          <li>Duty cycle calculation</li>
          <li>Contributor shares (%)</li>
          <li>Source assumptions audit</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="flow-arrow"><span>â–¼</span></div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- WIZARD V7: Step 4 â€” Results                     -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="phase">
    <div class="phase-header">
      <span class="phase-badge">Step 4</span>
      <span class="phase-title">ğŸ“Š Quote Results</span>
    </div>
    <p class="phase-desc">
      PricingFreeze + QuoteOutput displayed. PDF/Word export. Lead capture.
    </p>
    <div class="inner-grid">
      <div class="inner-box">
        <h4>ğŸ’° Step4ResultsV7.tsx</h4>
        <ul>
          <li>Equipment breakdown</li>
          <li>Financial metrics (NPV, IRR, payback)</li>
          <li>TrueQuoteâ„¢ source audit trail</li>
          <li>Margin policy (sell price)</li>
        </ul>
      </div>
      <div class="inner-box">
        <h4>ğŸ“„ Export & Lead Capture</h4>
        <ul>
          <li>PDF/Word/Excel export</li>
          <li>Lead capture â†’ Supabase <code>leads</code></li>
          <li>Email notification</li>
          <li>Saved quotes portfolio</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="flow-arrow"><span>â–¼</span></div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- FILE MAP                                        -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="phase">
    <div class="phase-header">
      <span class="phase-badge normalized">File Map</span>
      <span class="phase-title">ğŸ“ Files Changed in This Normalization</span>
    </div>
    <div class="file-map">
<span class="new">+ src/data/hotel-questions-complete.config.ts        # NEW â€” 16Q rich format</span>
<span class="new">+ src/data/evcharging-questions-complete.config.ts    # NEW â€” 16Q rich format</span>
<span class="changed">~ src/wizard/v7/schema/curatedFieldsResolver.ts      # CHANGED â€” unified COMPLETE_SCHEMAS registry</span>
<span class="existing">  src/data/carwash-questions-complete.config.ts       # EXISTING â€” gold standard (27Q)</span>
<span class="existing">  src/wizard/v7/calculators/registry.ts               # UNTOUCHED â€” adapters already work</span>
<span class="existing">  src/wizard/v7/calculators/ssotInputAliases.ts       # UNTOUCHED â€” aliases already defined</span>
<span class="existing">  src/components/wizard/v7/steps/Step3ProfileV7Curated.tsx  # UNTOUCHED â€” renders any CuratedSchema</span>
<span class="deprecated">  src/data/industryQuestionnaires.ts (hotel, ev-charging)  # DEPRECATED for these 3 verticals</span>
    </div>
  </div>
</div>

<p style="text-align: center; margin-top: 32px; color: var(--muted); font-size: 12px;">
  Merlin BESS Quote Builder â€” Phase 3 Wireframe â€” Feb 2026
</p>

</body>
</html>
