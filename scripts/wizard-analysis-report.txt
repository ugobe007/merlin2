â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           WIZARD ARCHITECTURE ANALYSIS REPORT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š SUMMARY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Files analyzed: 18
   SSOT violations: 52
   Calculations to migrate: 23
   Hardcoded values found: 74

ğŸš¨ SSOT VIOLATIONS (Fix These First)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“„ TrueQuoteVerifyDemo.tsx
   Line 24: hardcoded-constant
      Hardcoded rate: 0.0934
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 162: hardcoded-constant
      Hardcoded cost: 3210200
      â†’ Import from @/services/data/constants or calculationConstantsService

ğŸ“„ Step1Location.tsx
   Line 46: hardcoded-constant
      Hardcoded rate: 0.04
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 47: hardcoded-constant
      Hardcoded rate: 0.04
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 48: hardcoded-constant
      Hardcoded rate: 0.04
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 49: hardcoded-constant
      Hardcoded rate: 0.04
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 50: hardcoded-constant
      Hardcoded rate: 0.04
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 60: hardcoded-constant
      Hardcoded rate: 0.08
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 61: hardcoded-constant
      Hardcoded rate: 0.07
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 62: hardcoded-constant
      Hardcoded rate: 0.08
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 72: hardcoded-constant
      Hardcoded rate: 0.28
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 73: hardcoded-constant
      Hardcoded rate: 0.27
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 74: hardcoded-constant
      Hardcoded rate: 0.27
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 75: hardcoded-constant
      Hardcoded rate: 0.28
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 85: hardcoded-constant
      Hardcoded rate: 0.35
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 86: hardcoded-constant
      Hardcoded rate: 0.34
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 87: hardcoded-constant
      Hardcoded rate: 0.35
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 88: hardcoded-constant
      Hardcoded rate: 0.35
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 98: hardcoded-constant
      Hardcoded rate: 0.25
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 99: hardcoded-constant
      Hardcoded rate: 0.26
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 100: hardcoded-constant
      Hardcoded rate: 0.24
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 101: hardcoded-constant
      Hardcoded rate: 0.28
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 123: hardcoded-constant
      Hardcoded rate: 0.22
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 158: hardcoded-constant
      Hardcoded rate: 0.13
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 159: hardcoded-constant
      Hardcoded rate: 0.11
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 160: hardcoded-constant
      Hardcoded rate: 0.12
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 161: hardcoded-constant
      Hardcoded rate: 0.07
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 180: hardcoded-constant
      Hardcoded rate: 0.0934
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 181: hardcoded-constant
      Hardcoded rate: 0.225
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 182: hardcoded-constant
      Hardcoded rate: 0.115
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 183: hardcoded-constant
      Hardcoded rate: 0.118
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 184: hardcoded-constant
      Hardcoded rate: 0.128
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 185: hardcoded-constant
      Hardcoded rate: 0.195
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 186: hardcoded-constant
      Hardcoded rate: 0.128
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 187: hardcoded-constant
      Hardcoded rate: 0.098
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 188: hardcoded-constant
      Hardcoded rate: 0.22
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 189: hardcoded-constant
      Hardcoded rate: 0.135
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 190: hardcoded-constant
      Hardcoded rate: 0.12
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 191: hardcoded-constant
      Hardcoded rate: 0.11
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 192: hardcoded-constant
      Hardcoded rate: 0.165
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 193: hardcoded-constant
      Hardcoded rate: 0.14
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 194: hardcoded-constant
      Hardcoded rate: 0.125
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 195: hardcoded-constant
      Hardcoded rate: 0.155
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 196: hardcoded-constant
      Hardcoded rate: 0.12
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 197: hardcoded-constant
      Hardcoded rate: 0.105
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 198: hardcoded-constant
      Hardcoded rate: 0.11
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 199: hardcoded-constant
      Hardcoded rate: 0.35
      â†’ Import from @/services/data/constants or calculationConstantsService

ğŸ“„ Step4Options.tsx
   Line 75: hardcoded-constant
      Hardcoded rate: 0.12
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 0: duplicate-calc
      Multiple TrueQuote calls (2x)
      â†’ Consolidate to single call via MerlinOrchestrator

ğŸ“„ Step5MagicFit.tsx
   Line 147: hardcoded-constant
      Hardcoded cost: 0
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 190: hardcoded-constant
      Hardcoded cost: 0
      â†’ Import from @/services/data/constants or calculationConstantsService
   Line 0: duplicate-calc
      Multiple TrueQuote calls (2x)
      â†’ Consolidate to single call via MerlinOrchestrator


ğŸ“¦ SERVICE DEPENDENCIES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

TrueQuoteVerifyBadge.tsx:
   â””â”€â”€ @/services/financialProjections

Step3Container.tsx:
   â””â”€â”€ @/services/supabaseClient

Step3Details.tsx:
   â””â”€â”€ @/services/supabaseClient

Step3HotelEnergy.tsx:
   â””â”€â”€ @/services/supabaseClient

Step4Options.tsx:
   â””â”€â”€ @/services/utilityRateService
   â””â”€â”€ @/services/calculationConstantsService
   â””â”€â”€ @/services/TrueQuoteEngine

Step5MagicFit.tsx:
   â””â”€â”€ @/services/unifiedPricingService
   â””â”€â”€ @/services/utilityRateService
   â””â”€â”€ @/services/TrueQuoteEngine

Step6Quote.tsx:
   â””â”€â”€ @/services/stateIncentivesService

trueQuoteMapper.ts:
   â””â”€â”€ @/services/trueQuoteMapperConfig


ğŸ“‹ WIZARD STATE FIELDS USED
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   â€¢ calculations
   â€¢ city
   â€¢ customEvDcfc
   â€¢ customEvL2
   â€¢ customEvUltraFast
   â€¢ customGeneratorKw
   â€¢ customSolarKw
   â€¢ electricityRate
   â€¢ evTier
   â€¢ facilityDetails
   â€¢ generatorFuel
   â€¢ goals
   â€¢ industry
   â€¢ industryName
   â€¢ selectedOptions
   â€¢ selectedPowerLevel
   â€¢ solarData
   â€¢ solarTier
   â€¢ state
   â€¢ useCaseData
   â€¢ zipCode


âœ… MIGRATION CHECKLIST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

   [ ] 1. Replace TrueQuoteEngine imports with MerlinOrchestrator
   [ ] 2. Replace calculateTrueQuote() with generateQuote()
   [ ] 3. Update state handling to use MerlinRequest format
   [ ] 4. Replace hardcoded constants with imports from data/constants
   [ ] 5. Remove inline calculations, use calculator modules
   [ ] 6. Update Step5MagicFit to use MagicFit.ts results
   [ ] 7. Update Step6Quote to use TrueQuoteAuthenticatedResult
   [ ] 8. Test all wizard flows end-to-end
   [ ] 9. Deprecate old TrueQuoteEngine.ts
   [ ] 10. Remove Step5MagicFit.tsx inline calculations


ğŸ“ FILES TO MODIFY (Priority Order)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   1. Step1Location.tsx (45 violations, 0 calcs)
   2. Step5MagicFit.tsx (3 violations, 11 calcs)
   3. TrueQuoteVerifyDemo.tsx (2 violations, 0 calcs)
   4. Step4Options.tsx (2 violations, 2 calcs)
   5. ValueTicker.tsx (0 violations, 3 calcs)
   6. constants.ts (0 violations, 1 calcs)
   7. Step6Quote.tsx (0 violations, 3 calcs)
   8. trueQuoteMapper.ts (0 violations, 2 calcs)
   9. trueQuoteMapper_COMPLETE.ts (0 violations, 1 calcs)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
